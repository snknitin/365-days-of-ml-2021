# Day 122 of ML 

## Numpy - Tips and Tricks

* You may have used `np.zeroes_like` or `np.ones_like`. np.full_like takes in a matrix and a fill value and creates the whole matrix
* `linspace`  can create a custom number of linearly spaced data points within an interval. `logspace` takes this a bit further. It can generate a custom number of points evenly spaced on a logarithmic scale. 
* you can create every possible coordinate pair from a given X and Y arrays using `meshgrid` . is usually used for more complex tasks that would take forever if done with loops
* `np.triu` and `np.tril` are upper and lower and return zeros above or below a certain diagonal of a matrix .  create a boolean mask with True values above the main diagonal when plotting a correlation heatmap. mask created with triu can be used on a correlation matrix to drop the unnecessary upper triangle and the diagonal. This leaves a much more compact and readable heatmap devoid of clutter.
* Takes arrays and crush them into 1D using `np.ravel` or `np.flatten` .  flatten always returns a 1D copy while ravel tries to produce a 1D view of the original array. So, **be careful because modifying the returned array from ravel might change the original array**. 
* `np.vstack` and `np.hstack` are useful when you want tocombine arrays into a single matrix for example, ensemble of model predictions. Remember to do `.reshape(-1, 1)` to each array because stacking needs them to be 2D . represents converting the array to a single column with as many rows as possible. To call reshape on all your arrays, there is a much more elegant solution. `np.r_` and `np.c_` operators (not functions!) allow stacking arrays as rows and columns, respectively. Since they are operators you use `[]` and not `()` . np.c_ stacks the arrays next to each other, creating a matrix. However, their functionality isn't limited to simple horizontal and vertical stacks. They are much more powerful than that
* `np.all` only returns True if all elements inside an array match a specific condition while `np.any` returns True if at least one element of an array satisfies a particular condition.




```python
import numpy as np
array_w_inf = np.full_like(array, fill_value=np.pi, dtype=np.float32)
log_array = np.logspace(start=1, stop=100, num=15, base=np.e)

x = [1, 2, 3, 4]
y = [3, 5, 6, 8]

xx, yy = np.meshgrid(x, y)

matrix = df.corr()
mask = np.triu(np.ones_like(matrix, dtype=bool))

preds1 = np.random.rand(100)
preds2 = np.random.rand(100)

as_rows = np.r_[preds1, preds2] # (200,)
as_cols = np.c_[preds1, preds2] # (100,2)

```



**References**
------------
[1]  https://towardsdatascience.com/25-numpy-functions-you-never-knew-existed-p-guarantee-0-85-64616ba92fa8
[2]